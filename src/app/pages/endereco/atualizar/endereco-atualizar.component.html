<mat-toolbar color="primary">
  <button (click)="voltar()" mat-icon-button>
    <mat-icon>arrow_back </mat-icon>
  </button>
  {{getTitulo()}}
</mat-toolbar> <span class="toolbar-spacer"></span>
<mat-card-content class="container">

  <mat-card class="card-adicionar">

    <form [formGroup]="enderecoForm"  novalidate>

      <mat-card-content class="conteudo-empresa-adicionar">

        <mat-form-field appearance="outline" class="form-field-full">
          <mat-label>Apelido</mat-label>
          <input formControlName="apelido"  matInput  type="text"  >
          <mat-error *ngIf="enderecoForm.controls['apelido'].errors?.['required'] && enderecoForm.controls['apelido'].touched">
            Apelido é <strong>obrigatório</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline" class="form-field-full">
          <mat-label>CEP</mat-label>
          <input  formControlName="cep"  matInput  type="text" mask="00000-000" >
          <mat-error *ngIf="enderecoForm.controls['cep'].errors?.['required'] && enderecoForm.controls['cep'].touched">
            CEP é <strong>obrigatório</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline" class="form-field-full">
          <mat-label>Rua</mat-label>
          <input  formControlName="rua"  matInput  type="text"  >
          <mat-error *ngIf="enderecoForm.controls['rua'].errors?.['required'] && enderecoForm.controls['rua'].touched">
            Rua é <strong>obrigatório</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline" class="form-field-full">
          <mat-label>Número</mat-label>
          <input formControlName="numero"  matInput  type="text"  >
          <mat-error *ngIf="enderecoForm.controls['numero'].errors?.['required'] && enderecoForm.controls['numero'].touched">
            Número é <strong>obrigatório</strong>
          </mat-error>
        </mat-form-field >
        <mat-form-field appearance="outline" class="form-field-full">
          <mat-label>Complemento</mat-label>
          <input  formControlName="complemento"  matInput  type="text"  >
          <mat-error *ngIf="enderecoForm.controls['complemento'].errors?.['required'] && enderecoForm.controls['complemento'].touched">
            Complemento é <strong>obrigatório</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline" class="form-field-full">
          <mat-label>Bairro</mat-label>
          <input formControlName="bairro"  matInput  type="text"  >
          <mat-error *ngIf="enderecoForm.controls['bairro'].errors?.['required'] && enderecoForm.controls['bairro'].touched">
            Bairro é <strong>obrigatório</strong>
          </mat-error>
        </mat-form-field>

        <mat-checkbox class="example-margin"  formControlName="principal" checked="principal">Principal</mat-checkbox>
        <mat-form-field appearance="fill">
          <mat-label>Estado</mat-label>
          <mat-select [formControl]="estadosControl" required>
            <mat-option *ngFor="let estado of estados" [value]="estado">
              {{EstadosMapping[estado]}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="estadosControl.hasError('required')">Estado é   <strong>obrigatório</strong></mat-error>
        </mat-form-field>

        <mat-form-field>
          <input
            type="text"
            placeholder="Cidade"
            [formControl]="cidadesControl"
            matInput
            [matAutocomplete]="auto">
          <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFnCidade">
            <mat-option
              *ngFor="let cidade of cidadesCarregadas | async"
              [value]="cidade">
              {{cidade.nom_cidade}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Tipo Endereço</mat-label>
          <mat-select [formControl]="tipoEnderecoControl" required>
            <mat-option>--</mat-option>
            <mat-option *ngFor="let tipoEndereco of tiposEndereco" [value]="tipoEndereco">
              {{TipoEnderecoMapping[tipoEndereco]}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="tipoEnderecoControl.hasError('required')">Tipo endereço é   <strong>obrigatório</strong></mat-error>
        </mat-form-field>
      </mat-card-content>
    </form>

    <mat-card-actions align="end">
      <button (click)="salvar()" align="end"  color="primary" mat-raised-button>Salvar</button>
    </mat-card-actions>

  </mat-card>

</mat-card-content>
